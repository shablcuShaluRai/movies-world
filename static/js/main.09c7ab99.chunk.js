(this["webpackJsonpmovies-world"]=this["webpackJsonpmovies-world"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/image1.a3be25fa.jpg"},34:function(e,t,a){e.exports=a(52)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(13),c=a.n(s),o=a(20),i=a(18),l=a(9),u=a(31),v=a(7),m={moviesResult:{moviesList:[],response:!1,error:""},search:""};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_MOVIES":for(var a=t.moviesList,r=a.Search,n=a.Response,s=a.Error,c=r||[],o=0;o<c.length;o++)c[o].fav=!1;return Object(v.a)(Object(v.a)({},e),{},{moviesResult:{moviesList:c,response:JSON.parse(n.toLowerCase()),error:s}});case"SEARCH":return Object(v.a)(Object(v.a)({},e),{},{search:t.search});case"TOGGLE_FAVOURITE":var i=e.moviesResult,l=i.moviesList,p=i.response,f=i.error,h=t.movie,d=h.id,E=h.fav;return l.forEach((function(e,t){e.imdbID===d&&(l[t].fav=E)})),Object(v.a)(Object(v.a)({},e),{},{moviesResult:{moviesList:Object(u.a)(l),response:p,error:f}});default:return e}},f=a(2),h=a(10),d=a.n(h),E=a(17),b=a(16),w=a(27),y=a(28),g=a(33),O=a(30),S=function(e){return{type:"SAVE_MOVIES",moviesList:e}},j=function(e){return{type:"SEARCH",search:e}},L=function(e){return{type:"TOGGLE_FAVOURITE",movie:e}};var N=Object(i.b)((function(e){var t=e.search,a=e.moviesResult;return{search:t,moviesList:a.moviesList,response:a.response,error:a.error}}),(function(e){return Object(l.a)({setMoviesList:S,setSearch:j,setFavourite:L},e)})),k=a(29),F=a.n(k),M=(a(44),function(e){var t=e.movies,a=e.key,r=e.history,s=e.setFavourite;return n.a.createElement("div",{key:a,className:"card-container"},n.a.createElement("div",{onClick:function(){return r.push(t.imdbID)}},n.a.createElement("img",{alt:"alt ".concat(a),src:"N/A"===t.Poster?F.a:t.Poster}),n.a.createElement("h4",null,"".concat(t.Title," - ").concat(t.Year))),n.a.createElement("div",{className:"type-fav-wrap"},n.a.createElement("p",null,"Type: ",t.Type),n.a.createElement("div",{onClick:function(){return s({id:t.imdbID,fav:!t.fav})}},n.a.createElement("i",{className:t.fav?"\tfa fa-heart favourite":"\tfa fa-heart-o heart"}))))}),R=(a(45),function(e){return n.a.createElement("div",{className:"card-list-container"},e.moviesList&&e.moviesList.map((function(t){return n.a.createElement(M,{key:t.imdbID,movies:t,history:e.history,fav:e.fav,setFav:e.setFav,setFavourite:e.setFavourite})})))}),A=function(e){var t=e.dropdownList,a=e.handleState;return n.a.createElement("select",{onChange:function(e){a("type",e.target.value)}},t.map((function(e){return n.a.createElement("option",{key:e.label,value:e.value},e.label)})))},x=(a(46),[{label:"All",value:""},{label:"Movies",value:"movie"},{label:"Series",value:"series"},{label:"Episodes",value:"episode"}]);var C=function(e){var t=e.search,a=e.setSearch,r=e.getMovieData,s=e.handleState;return n.a.createElement("div",null,n.a.createElement("input",{className:"search",type:"search",value:t,onChange:function(e){return a(e.target.value)},placeholder:"search Movies/Series/Episodes"}),n.a.createElement(A,{dropdownList:x,handleState:s}),n.a.createElement("button",{onClick:function(){r(t),s("showFav",!1)}},"Search"),n.a.createElement("button",{onClick:function(){s("showFav",!0),a("")},className:"fav-btn"},n.a.createElement("span",null,"Favourite Movies ",n.a.createElement("i",{className:"fa fa-heart"}))))},D=(a(47),N(function(e){Object(g.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(w.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={showFav:!1,type:""},e.handleState=function(t,a){return e.setState(Object(b.a)({},t,a))},e.getMovieData=Object(E.a)(d.a.mark((function t(){var a,r,n,s,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.search,n=a.setMoviesList,s=e.state.type,t.next=4,fetch("http://www.omdbapi.com/?s=".concat(r,"&apikey=").concat("5e08209d","&type=").concat(s));case 4:return c=t.sent,t.next=7,c.json();case 7:o=t.sent,n(o);case 9:case"end":return t.stop()}}),t)}))),e}return Object(y.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.search,r=t.moviesList,s=t.setSearch,c=t.setFavourite,o=t.history,i=t.response,l=t.error,u=this.state.showFav;return console.log(">>>>>>>>>>>>>>moviesList>>>>>>>>>",r),e=u?r.filter((function(e){return!0===e.fav})):r,console.log(">>>>>>favouriteMovie>>>>>>",e),n.a.createElement("div",{className:"homepage-wrap"},n.a.createElement("h1",null,"Movies World"),n.a.createElement(C,{setSearch:s,search:a,getMovieData:this.getMovieData,handleState:this.handleState}),0===e.length&&n.a.createElement("h1",{className:"text"},"You don't have any movie"),i?n.a.createElement(R,{moviesList:e,history:o,setFavourite:c}):n.a.createElement("h1",{className:"text"},l))}}]),a}(r.Component))),I=a(32),T=(a(48),function(e,t){return n.a.createElement("div",{className:"label-value-wrapper"},n.a.createElement("span",{className:"label"},e,":"),n.a.createElement("span",{className:"value"},t))});var G=function(e){var t=e.history,a=(t&&t.location.pathname).split("/")[1],s=Object(r.useState)({}),c=Object(I.a)(s,2),o=c[0],i=c[1],l=function(){var e=Object(E.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://www.omdbapi.com/?i=".concat(a,"&apikey=").concat("5e08209d"));case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,i(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){l()}),[a]);var u=o.Title,v=o.Writer,m=o.Poster,p=o.Released,f=o.Actors,h=o.Plot,b=o.Language,w=o.Awards,y=o.imdbRating,g=o.Director,O=o.Genre;return n.a.createElement("div",{className:"view-card-wrap"},n.a.createElement("div",null,n.a.createElement("img",{alt:u,src:m})),n.a.createElement("div",{className:"movie-details"},T("Title",u),T("Plot",h),T("Language",b),T("Genre",O),T("Actors",f),T("Released",p),T("imdbRating",y),T("Awards",w),T("Writer",v),T("Director",g)))};a(49);var V=function(){return n.a.createElement("div",{className:"app"},n.a.createElement(f.c,null,n.a.createElement(f.a,{exact:!0,path:"/",component:D}),n.a.createElement(f.a,{exact:!0,path:"/:id",component:G})))},P=(a(51),Object(l.b)(p));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,{store:P},n.a.createElement(o.a,null,n.a.createElement(V,null)))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.09c7ab99.chunk.js.map